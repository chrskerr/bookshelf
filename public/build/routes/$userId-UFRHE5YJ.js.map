{
  "version": 3,
  "sources": ["empty-module:~/utils/db.server", "browser-route-module:/Users/chris/Projects/bookshelf/app/routes/$userId.tsx?browser", "../../../app/routes/$userId.tsx", "../../../app/components/index.tsx", "../../../app/components/books.tsx", "../../../app/components/nav.tsx"],
  "sourcesContent": ["module.exports = {};", "export { default } from \"/Users/chris/Projects/bookshelf/app/routes/$userId.tsx\";", "import Index from '~/components';\nexport default Index;\n", "import type { Who } from '~/utils/types';\n\nimport { useEffect, useState } from 'react';\nimport Books from '~/components/books';\nimport Nav from '~/components/nav';\nimport { useParams } from '@remix-run/react';\n\nconst localStorageKey = 'previous-who';\n\nexport default function Index() {\n\tconst params = useParams();\n\tconst userId = params['*'];\n\n\tconst [who, setWho] = useState<Who | 'none'>('none');\n\n\tconsole.log(userId);\n\n\tuseEffect(() => {\n\t\tconst previousWho = localStorage.getItem(localStorageKey);\n\t\tif (previousWho === 'chris' || previousWho === 'kate') {\n\t\t\tsetWho(previousWho);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (who === 'chris' || who === 'kate') {\n\t\t\tlocalStorage.setItem(localStorageKey, who);\n\t\t}\n\t}, [who]);\n\n\treturn (\n\t\t<div className=\"p-8 w-full\">\n\t\t\t<Nav who={who} setWho={setWho} />\n\t\t\t{who !== 'none' && <Books who={who} />}\n\t\t</div>\n\t);\n}\n", "import { UsersBooks } from '@prisma/client';\nimport type { LoaderFunction } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { db } from '~/utils/db.server';\nimport type { Who } from '~/utils/types';\n\ninterface IProps {\n\twho: Who;\n}\n\nexport default function Books({ who }: IProps) {\n\treturn <div></div>;\n}\n\ntype LoaderData = {\n\tbooks: Array<{\n\t\tbookId: string;\n\t\treadAt: Date | null;\n\t\treadingOrder: number | null;\n\t\tbook: {\n\t\t\tid: string;\n\t\t\ttitle: string;\n\t\t\tauthors: Array<{ author: { id: string; name: string } }>;\n\t\t};\n\t}>;\n};\n\nexport const loader: LoaderFunction = async (userId: string) => {\n\tconst data: LoaderData = {\n\t\tbooks: await db.usersBooks.findMany({\n\t\t\twhere: { userId },\n\t\t\tselect: {\n\t\t\t\tbookId: true,\n\t\t\t\treadAt: true,\n\t\t\t\treadingOrder: true,\n\t\t\t\tbook: {\n\t\t\t\t\tselect: {\n\t\t\t\t\t\tid: true,\n\t\t\t\t\t\ttitle: true,\n\t\t\t\t\t\tauthors: {\n\t\t\t\t\t\t\tselect: {\n\t\t\t\t\t\t\t\tauthor: { select: { id: true, name: true } },\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t};\n\n\treturn json(data);\n};\n", "import type { Dispatch, SetStateAction } from 'react';\nimport type { Who } from '~/utils/types';\n\ninterface IProps {\n\twho: Who | 'none';\n\tsetWho: Dispatch<SetStateAction<Who | 'none'>>;\n}\n\nexport default function Nav({ who, setWho }: IProps) {\n\treturn (\n\t\t<header className=\"w-full border-b-2 border-b-emerald-600 pb-8 mb-8\">\n\t\t\t<h1 className=\"text-4xl text-emerald-600 font-mono font-medium pb-4\">\n\t\t\t\tBookshelf\n\t\t\t</h1>\n\t\t\t<div className=\"text-xl\">\n\t\t\t\t<label htmlFor=\"who\">Who are you?</label>\n\t\t\t\t<select\n\t\t\t\t\tid=\"who\"\n\t\t\t\t\tvalue={who}\n\t\t\t\t\tonChange={e => setWho(e.target.value as Who)}\n\t\t\t\t\tclassName=\"ml-2\"\n\t\t\t\t>\n\t\t\t\t\t<option disabled value=\"none\">\n\t\t\t\t\t\tPlease choose\n\t\t\t\t\t</option>\n\t\t\t\t\t<option value=\"kate\">Kate</option>\n\t\t\t\t\t<option value=\"chris\">Chris</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n"],
  "mappings": ";;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,WAAO,UAAU;AAAA;AAAA;;;ACAjB;;;ACAA;;;ACAA;AAEA,mBAAoC;;;ACFpC;AAGA,gBAAmB;AAOJ,eAAe,EAAE,OAAe;AAC9C,SAAO,oCAAC,OAAD;AAAA;;;ACXR;AAQe,aAAa,EAAE,KAAK,UAAkB;AACpD,SACC,oCAAC,UAAD;AAAA,IAAQ,WAAU;AAAA,KACjB,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KAAuD,cAGrE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACd,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAM,iBACrB,oCAAC,UAAD;AAAA,IACC,IAAG;AAAA,IACH,OAAO;AAAA,IACP,UAAU,OAAK,OAAO,EAAE,OAAO;AAAA,IAC/B,WAAU;AAAA,KAEV,oCAAC,UAAD;AAAA,IAAQ,UAAQ;AAAA,IAAC,OAAM;AAAA,KAAO,kBAG9B,oCAAC,UAAD;AAAA,IAAQ,OAAM;AAAA,KAAO,SACrB,oCAAC,UAAD;AAAA,IAAQ,OAAM;AAAA,KAAQ;AAAA;;;AFnB3B,IAAM,kBAAkB;AAET,iBAAiB;AAC/B,QAAM,SAAS;AACf,QAAM,SAAS,OAAO;AAEtB,QAAM,CAAC,KAAK,UAAU,2BAAuB;AAE7C,UAAQ,IAAI;AAEZ,8BAAU,MAAM;AACf,UAAM,cAAc,aAAa,QAAQ;AACzC,QAAI,gBAAgB,WAAW,gBAAgB,QAAQ;AACtD,aAAO;AAAA;AAAA,KAEN;AAEH,8BAAU,MAAM;AACf,QAAI,QAAQ,WAAW,QAAQ,QAAQ;AACtC,mBAAa,QAAQ,iBAAiB;AAAA;AAAA,KAErC,CAAC;AAEJ,SACC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACd,oCAAC,KAAD;AAAA,IAAK;AAAA,IAAU;AAAA,MACd,QAAQ,UAAU,oCAAC,OAAD;AAAA,IAAO;AAAA;AAAA;;;ADhC7B,IAAO,iBAAQ;",
  "names": []
}
